#!/usr/bin/env ruby
# frozen_string_literal: true

require 'test/unit'
require 'stringio'
require_relative 'answer'

# Test Day 12
class TestDay12 < Test::Unit::TestCase
  def test_count_segments
    assert_equal([1, 1, 3], Day12.count_segments('#.#.###'))
    assert_equal([1, 1, 3], Day12.count_segments('.#...#....###.'))
    assert_equal([1, 3, 1, 6], Day12.count_segments('.#.###.#.######'))
    assert_equal([4, 1, 1], Day12.count_segments('####.#...#...'))
    assert_equal([1, 6, 5], Day12.count_segments('#....######..#####.'))
    assert_equal([3, 2, 1], Day12.count_segments('.###.##....#'))
  end

  def test_find_arrangements
    assert_equal(
      1,
      Day12.find_arrangements('???.###', Day12.find_combinations('???.###'), [1, 1, 3])
    )
    assert_equal(
      4,
      Day12.find_arrangements('.??..??...?##.', Day12.find_combinations('.??..??...?##.'), [1, 1, 3])
    )
    assert_equal(
      1,
      Day12.find_arrangements('?#?#?#?#?#?#?#?', Day12.find_combinations('?#?#?#?#?#?#?#?'), [1, 3, 1, 6])
    )
    assert_equal(
      1,
      Day12.find_arrangements('????.#...#...', Day12.find_combinations('????.#...#...'), [4, 1, 1])
    )
    assert_equal(
      4,
      Day12.find_arrangements('????.######..#####.', Day12.find_combinations('????.######..#####.'), [1, 6, 5])
    )
    assert_equal(
      10,
      Day12.find_arrangements('?###????????', Day12.find_combinations('?###????????'), [3, 2, 1])
    )
  end

  def test_find_combinations
    assert_equal(
      [['###'], ['##.'], ['#.#'], ['#..'], ['.##'], ['.#.'], ['..#'], ['...']],
      Day12.find_combinations('???.###')
    )
    assert_equal(
      [
        ['##', '##', '#'],
        ['##', '##', '.'],
        ['##', '#.', '#'],
        ['##', '#.', '.'],
        ['##', '.#', '#'],
        ['##', '.#', '.'],
        ['##', '..', '#'],
        ['##', '..', '.'],
        ['#.', '##', '#'],
        ['#.', '##', '.'],
        ['#.', '#.', '#'],
        ['#.', '#.', '.'],
        ['#.', '.#', '#'],
        ['#.', '.#', '.'],
        ['#.', '..', '#'],
        ['#.', '..', '.'],
        ['.#', '##', '#'],
        ['.#', '##', '.'],
        ['.#', '#.', '#'],
        ['.#', '#.', '.'],
        ['.#', '.#', '#'],
        ['.#', '.#', '.'],
        ['.#', '..', '#'],
        ['.#', '..', '.'],
        ['..', '##', '#'],
        ['..', '##', '.'],
        ['..', '#.', '#'],
        ['..', '#.', '.'],
        ['..', '.#', '#'],
        ['..', '.#', '.'],
        ['..', '..', '#'],
        ['..', '..', '.']
      ],
      Day12.find_combinations('.??..??...?##.')
    )
    assert_equal(
      [
        ['#', '#', '#', '#', '#', '#', '#', '#'],
        ['#', '#', '#', '#', '#', '#', '#', '.'],
        ['#', '#', '#', '#', '#', '#', '.', '#'],
        ['#', '#', '#', '#', '#', '#', '.', '.'],
        ['#', '#', '#', '#', '#', '.', '#', '#'],
        ['#', '#', '#', '#', '#', '.', '#', '.'],
        ['#', '#', '#', '#', '#', '.', '.', '#'],
        ['#', '#', '#', '#', '#', '.', '.', '.'],
        ['#', '#', '#', '#', '.', '#', '#', '#'],
        ['#', '#', '#', '#', '.', '#', '#', '.'],
        ['#', '#', '#', '#', '.', '#', '.', '#'],
        ['#', '#', '#', '#', '.', '#', '.', '.'],
        ['#', '#', '#', '#', '.', '.', '#', '#'],
        ['#', '#', '#', '#', '.', '.', '#', '.'],
        ['#', '#', '#', '#', '.', '.', '.', '#'],
        ['#', '#', '#', '#', '.', '.', '.', '.'],
        ['#', '#', '#', '.', '#', '#', '#', '#'],
        ['#', '#', '#', '.', '#', '#', '#', '.'],
        ['#', '#', '#', '.', '#', '#', '.', '#'],
        ['#', '#', '#', '.', '#', '#', '.', '.'],
        ['#', '#', '#', '.', '#', '.', '#', '#'],
        ['#', '#', '#', '.', '#', '.', '#', '.'],
        ['#', '#', '#', '.', '#', '.', '.', '#'],
        ['#', '#', '#', '.', '#', '.', '.', '.'],
        ['#', '#', '#', '.', '.', '#', '#', '#'],
        ['#', '#', '#', '.', '.', '#', '#', '.'],
        ['#', '#', '#', '.', '.', '#', '.', '#'],
        ['#', '#', '#', '.', '.', '#', '.', '.'],
        ['#', '#', '#', '.', '.', '.', '#', '#'],
        ['#', '#', '#', '.', '.', '.', '#', '.'],
        ['#', '#', '#', '.', '.', '.', '.', '#'],
        ['#', '#', '#', '.', '.', '.', '.', '.'],
        ['#', '#', '.', '#', '#', '#', '#', '#'],
        ['#', '#', '.', '#', '#', '#', '#', '.'],
        ['#', '#', '.', '#', '#', '#', '.', '#'],
        ['#', '#', '.', '#', '#', '#', '.', '.'],
        ['#', '#', '.', '#', '#', '.', '#', '#'],
        ['#', '#', '.', '#', '#', '.', '#', '.'],
        ['#', '#', '.', '#', '#', '.', '.', '#'],
        ['#', '#', '.', '#', '#', '.', '.', '.'],
        ['#', '#', '.', '#', '.', '#', '#', '#'],
        ['#', '#', '.', '#', '.', '#', '#', '.'],
        ['#', '#', '.', '#', '.', '#', '.', '#'],
        ['#', '#', '.', '#', '.', '#', '.', '.'],
        ['#', '#', '.', '#', '.', '.', '#', '#'],
        ['#', '#', '.', '#', '.', '.', '#', '.'],
        ['#', '#', '.', '#', '.', '.', '.', '#'],
        ['#', '#', '.', '#', '.', '.', '.', '.'],
        ['#', '#', '.', '.', '#', '#', '#', '#'],
        ['#', '#', '.', '.', '#', '#', '#', '.'],
        ['#', '#', '.', '.', '#', '#', '.', '#'],
        ['#', '#', '.', '.', '#', '#', '.', '.'],
        ['#', '#', '.', '.', '#', '.', '#', '#'],
        ['#', '#', '.', '.', '#', '.', '#', '.'],
        ['#', '#', '.', '.', '#', '.', '.', '#'],
        ['#', '#', '.', '.', '#', '.', '.', '.'],
        ['#', '#', '.', '.', '.', '#', '#', '#'],
        ['#', '#', '.', '.', '.', '#', '#', '.'],
        ['#', '#', '.', '.', '.', '#', '.', '#'],
        ['#', '#', '.', '.', '.', '#', '.', '.'],
        ['#', '#', '.', '.', '.', '.', '#', '#'],
        ['#', '#', '.', '.', '.', '.', '#', '.'],
        ['#', '#', '.', '.', '.', '.', '.', '#'],
        ['#', '#', '.', '.', '.', '.', '.', '.'],
        ['#', '.', '#', '#', '#', '#', '#', '#'],
        ['#', '.', '#', '#', '#', '#', '#', '.'],
        ['#', '.', '#', '#', '#', '#', '.', '#'],
        ['#', '.', '#', '#', '#', '#', '.', '.'],
        ['#', '.', '#', '#', '#', '.', '#', '#'],
        ['#', '.', '#', '#', '#', '.', '#', '.'],
        ['#', '.', '#', '#', '#', '.', '.', '#'],
        ['#', '.', '#', '#', '#', '.', '.', '.'],
        ['#', '.', '#', '#', '.', '#', '#', '#'],
        ['#', '.', '#', '#', '.', '#', '#', '.'],
        ['#', '.', '#', '#', '.', '#', '.', '#'],
        ['#', '.', '#', '#', '.', '#', '.', '.'],
        ['#', '.', '#', '#', '.', '.', '#', '#'],
        ['#', '.', '#', '#', '.', '.', '#', '.'],
        ['#', '.', '#', '#', '.', '.', '.', '#'],
        ['#', '.', '#', '#', '.', '.', '.', '.'],
        ['#', '.', '#', '.', '#', '#', '#', '#'],
        ['#', '.', '#', '.', '#', '#', '#', '.'],
        ['#', '.', '#', '.', '#', '#', '.', '#'],
        ['#', '.', '#', '.', '#', '#', '.', '.'],
        ['#', '.', '#', '.', '#', '.', '#', '#'],
        ['#', '.', '#', '.', '#', '.', '#', '.'],
        ['#', '.', '#', '.', '#', '.', '.', '#'],
        ['#', '.', '#', '.', '#', '.', '.', '.'],
        ['#', '.', '#', '.', '.', '#', '#', '#'],
        ['#', '.', '#', '.', '.', '#', '#', '.'],
        ['#', '.', '#', '.', '.', '#', '.', '#'],
        ['#', '.', '#', '.', '.', '#', '.', '.'],
        ['#', '.', '#', '.', '.', '.', '#', '#'],
        ['#', '.', '#', '.', '.', '.', '#', '.'],
        ['#', '.', '#', '.', '.', '.', '.', '#'],
        ['#', '.', '#', '.', '.', '.', '.', '.'],
        ['#', '.', '.', '#', '#', '#', '#', '#'],
        ['#', '.', '.', '#', '#', '#', '#', '.'],
        ['#', '.', '.', '#', '#', '#', '.', '#'],
        ['#', '.', '.', '#', '#', '#', '.', '.'],
        ['#', '.', '.', '#', '#', '.', '#', '#'],
        ['#', '.', '.', '#', '#', '.', '#', '.'],
        ['#', '.', '.', '#', '#', '.', '.', '#'],
        ['#', '.', '.', '#', '#', '.', '.', '.'],
        ['#', '.', '.', '#', '.', '#', '#', '#'],
        ['#', '.', '.', '#', '.', '#', '#', '.'],
        ['#', '.', '.', '#', '.', '#', '.', '#'],
        ['#', '.', '.', '#', '.', '#', '.', '.'],
        ['#', '.', '.', '#', '.', '.', '#', '#'],
        ['#', '.', '.', '#', '.', '.', '#', '.'],
        ['#', '.', '.', '#', '.', '.', '.', '#'],
        ['#', '.', '.', '#', '.', '.', '.', '.'],
        ['#', '.', '.', '.', '#', '#', '#', '#'],
        ['#', '.', '.', '.', '#', '#', '#', '.'],
        ['#', '.', '.', '.', '#', '#', '.', '#'],
        ['#', '.', '.', '.', '#', '#', '.', '.'],
        ['#', '.', '.', '.', '#', '.', '#', '#'],
        ['#', '.', '.', '.', '#', '.', '#', '.'],
        ['#', '.', '.', '.', '#', '.', '.', '#'],
        ['#', '.', '.', '.', '#', '.', '.', '.'],
        ['#', '.', '.', '.', '.', '#', '#', '#'],
        ['#', '.', '.', '.', '.', '#', '#', '.'],
        ['#', '.', '.', '.', '.', '#', '.', '#'],
        ['#', '.', '.', '.', '.', '#', '.', '.'],
        ['#', '.', '.', '.', '.', '.', '#', '#'],
        ['#', '.', '.', '.', '.', '.', '#', '.'],
        ['#', '.', '.', '.', '.', '.', '.', '#'],
        ['#', '.', '.', '.', '.', '.', '.', '.'],
        ['.', '#', '#', '#', '#', '#', '#', '#'],
        ['.', '#', '#', '#', '#', '#', '#', '.'],
        ['.', '#', '#', '#', '#', '#', '.', '#'],
        ['.', '#', '#', '#', '#', '#', '.', '.'],
        ['.', '#', '#', '#', '#', '.', '#', '#'],
        ['.', '#', '#', '#', '#', '.', '#', '.'],
        ['.', '#', '#', '#', '#', '.', '.', '#'],
        ['.', '#', '#', '#', '#', '.', '.', '.'],
        ['.', '#', '#', '#', '.', '#', '#', '#'],
        ['.', '#', '#', '#', '.', '#', '#', '.'],
        ['.', '#', '#', '#', '.', '#', '.', '#'],
        ['.', '#', '#', '#', '.', '#', '.', '.'],
        ['.', '#', '#', '#', '.', '.', '#', '#'],
        ['.', '#', '#', '#', '.', '.', '#', '.'],
        ['.', '#', '#', '#', '.', '.', '.', '#'],
        ['.', '#', '#', '#', '.', '.', '.', '.'],
        ['.', '#', '#', '.', '#', '#', '#', '#'],
        ['.', '#', '#', '.', '#', '#', '#', '.'],
        ['.', '#', '#', '.', '#', '#', '.', '#'],
        ['.', '#', '#', '.', '#', '#', '.', '.'],
        ['.', '#', '#', '.', '#', '.', '#', '#'],
        ['.', '#', '#', '.', '#', '.', '#', '.'],
        ['.', '#', '#', '.', '#', '.', '.', '#'],
        ['.', '#', '#', '.', '#', '.', '.', '.'],
        ['.', '#', '#', '.', '.', '#', '#', '#'],
        ['.', '#', '#', '.', '.', '#', '#', '.'],
        ['.', '#', '#', '.', '.', '#', '.', '#'],
        ['.', '#', '#', '.', '.', '#', '.', '.'],
        ['.', '#', '#', '.', '.', '.', '#', '#'],
        ['.', '#', '#', '.', '.', '.', '#', '.'],
        ['.', '#', '#', '.', '.', '.', '.', '#'],
        ['.', '#', '#', '.', '.', '.', '.', '.'],
        ['.', '#', '.', '#', '#', '#', '#', '#'],
        ['.', '#', '.', '#', '#', '#', '#', '.'],
        ['.', '#', '.', '#', '#', '#', '.', '#'],
        ['.', '#', '.', '#', '#', '#', '.', '.'],
        ['.', '#', '.', '#', '#', '.', '#', '#'],
        ['.', '#', '.', '#', '#', '.', '#', '.'],
        ['.', '#', '.', '#', '#', '.', '.', '#'],
        ['.', '#', '.', '#', '#', '.', '.', '.'],
        ['.', '#', '.', '#', '.', '#', '#', '#'],
        ['.', '#', '.', '#', '.', '#', '#', '.'],
        ['.', '#', '.', '#', '.', '#', '.', '#'],
        ['.', '#', '.', '#', '.', '#', '.', '.'],
        ['.', '#', '.', '#', '.', '.', '#', '#'],
        ['.', '#', '.', '#', '.', '.', '#', '.'],
        ['.', '#', '.', '#', '.', '.', '.', '#'],
        ['.', '#', '.', '#', '.', '.', '.', '.'],
        ['.', '#', '.', '.', '#', '#', '#', '#'],
        ['.', '#', '.', '.', '#', '#', '#', '.'],
        ['.', '#', '.', '.', '#', '#', '.', '#'],
        ['.', '#', '.', '.', '#', '#', '.', '.'],
        ['.', '#', '.', '.', '#', '.', '#', '#'],
        ['.', '#', '.', '.', '#', '.', '#', '.'],
        ['.', '#', '.', '.', '#', '.', '.', '#'],
        ['.', '#', '.', '.', '#', '.', '.', '.'],
        ['.', '#', '.', '.', '.', '#', '#', '#'],
        ['.', '#', '.', '.', '.', '#', '#', '.'],
        ['.', '#', '.', '.', '.', '#', '.', '#'],
        ['.', '#', '.', '.', '.', '#', '.', '.'],
        ['.', '#', '.', '.', '.', '.', '#', '#'],
        ['.', '#', '.', '.', '.', '.', '#', '.'],
        ['.', '#', '.', '.', '.', '.', '.', '#'],
        ['.', '#', '.', '.', '.', '.', '.', '.'],
        ['.', '.', '#', '#', '#', '#', '#', '#'],
        ['.', '.', '#', '#', '#', '#', '#', '.'],
        ['.', '.', '#', '#', '#', '#', '.', '#'],
        ['.', '.', '#', '#', '#', '#', '.', '.'],
        ['.', '.', '#', '#', '#', '.', '#', '#'],
        ['.', '.', '#', '#', '#', '.', '#', '.'],
        ['.', '.', '#', '#', '#', '.', '.', '#'],
        ['.', '.', '#', '#', '#', '.', '.', '.'],
        ['.', '.', '#', '#', '.', '#', '#', '#'],
        ['.', '.', '#', '#', '.', '#', '#', '.'],
        ['.', '.', '#', '#', '.', '#', '.', '#'],
        ['.', '.', '#', '#', '.', '#', '.', '.'],
        ['.', '.', '#', '#', '.', '.', '#', '#'],
        ['.', '.', '#', '#', '.', '.', '#', '.'],
        ['.', '.', '#', '#', '.', '.', '.', '#'],
        ['.', '.', '#', '#', '.', '.', '.', '.'],
        ['.', '.', '#', '.', '#', '#', '#', '#'],
        ['.', '.', '#', '.', '#', '#', '#', '.'],
        ['.', '.', '#', '.', '#', '#', '.', '#'],
        ['.', '.', '#', '.', '#', '#', '.', '.'],
        ['.', '.', '#', '.', '#', '.', '#', '#'],
        ['.', '.', '#', '.', '#', '.', '#', '.'],
        ['.', '.', '#', '.', '#', '.', '.', '#'],
        ['.', '.', '#', '.', '#', '.', '.', '.'],
        ['.', '.', '#', '.', '.', '#', '#', '#'],
        ['.', '.', '#', '.', '.', '#', '#', '.'],
        ['.', '.', '#', '.', '.', '#', '.', '#'],
        ['.', '.', '#', '.', '.', '#', '.', '.'],
        ['.', '.', '#', '.', '.', '.', '#', '#'],
        ['.', '.', '#', '.', '.', '.', '#', '.'],
        ['.', '.', '#', '.', '.', '.', '.', '#'],
        ['.', '.', '#', '.', '.', '.', '.', '.'],
        ['.', '.', '.', '#', '#', '#', '#', '#'],
        ['.', '.', '.', '#', '#', '#', '#', '.'],
        ['.', '.', '.', '#', '#', '#', '.', '#'],
        ['.', '.', '.', '#', '#', '#', '.', '.'],
        ['.', '.', '.', '#', '#', '.', '#', '#'],
        ['.', '.', '.', '#', '#', '.', '#', '.'],
        ['.', '.', '.', '#', '#', '.', '.', '#'],
        ['.', '.', '.', '#', '#', '.', '.', '.'],
        ['.', '.', '.', '#', '.', '#', '#', '#'],
        ['.', '.', '.', '#', '.', '#', '#', '.'],
        ['.', '.', '.', '#', '.', '#', '.', '#'],
        ['.', '.', '.', '#', '.', '#', '.', '.'],
        ['.', '.', '.', '#', '.', '.', '#', '#'],
        ['.', '.', '.', '#', '.', '.', '#', '.'],
        ['.', '.', '.', '#', '.', '.', '.', '#'],
        ['.', '.', '.', '#', '.', '.', '.', '.'],
        ['.', '.', '.', '.', '#', '#', '#', '#'],
        ['.', '.', '.', '.', '#', '#', '#', '.'],
        ['.', '.', '.', '.', '#', '#', '.', '#'],
        ['.', '.', '.', '.', '#', '#', '.', '.'],
        ['.', '.', '.', '.', '#', '.', '#', '#'],
        ['.', '.', '.', '.', '#', '.', '#', '.'],
        ['.', '.', '.', '.', '#', '.', '.', '#'],
        ['.', '.', '.', '.', '#', '.', '.', '.'],
        ['.', '.', '.', '.', '.', '#', '#', '#'],
        ['.', '.', '.', '.', '.', '#', '#', '.'],
        ['.', '.', '.', '.', '.', '#', '.', '#'],
        ['.', '.', '.', '.', '.', '#', '.', '.'],
        ['.', '.', '.', '.', '.', '.', '#', '#'],
        ['.', '.', '.', '.', '.', '.', '#', '.'],
        ['.', '.', '.', '.', '.', '.', '.', '#'],
        ['.', '.', '.', '.', '.', '.', '.', '.']
      ],
      Day12.find_combinations('?#?#?#?#?#?#?#?')
    )
    assert_equal(
      [
        ['####'],
        ['###.'],
        ['##.#'],
        ['##..'],
        ['#.##'],
        ['#.#.'],
        ['#..#'],
        ['#...'],
        ['.###'],
        ['.##.'],
        ['.#.#'],
        ['.#..'],
        ['..##'],
        ['..#.'],
        ['...#'],
        ['....']
      ],
      Day12.find_combinations('????.#...#...')
    )
    assert_equal(
      [
        ['#', '########'],
        ['#', '#######.'],
        ['#', '######.#'],
        ['#', '######..'],
        ['#', '#####.##'],
        ['#', '#####.#.'],
        ['#', '#####..#'],
        ['#', '#####...'],
        ['#', '####.###'],
        ['#', '####.##.'],
        ['#', '####.#.#'],
        ['#', '####.#..'],
        ['#', '####..##'],
        ['#', '####..#.'],
        ['#', '####...#'],
        ['#', '####....'],
        ['#', '###.####'],
        ['#', '###.###.'],
        ['#', '###.##.#'],
        ['#', '###.##..'],
        ['#', '###.#.##'],
        ['#', '###.#.#.'],
        ['#', '###.#..#'],
        ['#', '###.#...'],
        ['#', '###..###'],
        ['#', '###..##.'],
        ['#', '###..#.#'],
        ['#', '###..#..'],
        ['#', '###...##'],
        ['#', '###...#.'],
        ['#', '###....#'],
        ['#', '###.....'],
        ['#', '##.#####'],
        ['#', '##.####.'],
        ['#', '##.###.#'],
        ['#', '##.###..'],
        ['#', '##.##.##'],
        ['#', '##.##.#.'],
        ['#', '##.##..#'],
        ['#', '##.##...'],
        ['#', '##.#.###'],
        ['#', '##.#.##.'],
        ['#', '##.#.#.#'],
        ['#', '##.#.#..'],
        ['#', '##.#..##'],
        ['#', '##.#..#.'],
        ['#', '##.#...#'],
        ['#', '##.#....'],
        ['#', '##..####'],
        ['#', '##..###.'],
        ['#', '##..##.#'],
        ['#', '##..##..'],
        ['#', '##..#.##'],
        ['#', '##..#.#.'],
        ['#', '##..#..#'],
        ['#', '##..#...'],
        ['#', '##...###'],
        ['#', '##...##.'],
        ['#', '##...#.#'],
        ['#', '##...#..'],
        ['#', '##....##'],
        ['#', '##....#.'],
        ['#', '##.....#'],
        ['#', '##......'],
        ['#', '#.######'],
        ['#', '#.#####.'],
        ['#', '#.####.#'],
        ['#', '#.####..'],
        ['#', '#.###.##'],
        ['#', '#.###.#.'],
        ['#', '#.###..#'],
        ['#', '#.###...'],
        ['#', '#.##.###'],
        ['#', '#.##.##.'],
        ['#', '#.##.#.#'],
        ['#', '#.##.#..'],
        ['#', '#.##..##'],
        ['#', '#.##..#.'],
        ['#', '#.##...#'],
        ['#', '#.##....'],
        ['#', '#.#.####'],
        ['#', '#.#.###.'],
        ['#', '#.#.##.#'],
        ['#', '#.#.##..'],
        ['#', '#.#.#.##'],
        ['#', '#.#.#.#.'],
        ['#', '#.#.#..#'],
        ['#', '#.#.#...'],
        ['#', '#.#..###'],
        ['#', '#.#..##.'],
        ['#', '#.#..#.#'],
        ['#', '#.#..#..'],
        ['#', '#.#...##'],
        ['#', '#.#...#.'],
        ['#', '#.#....#'],
        ['#', '#.#.....'],
        ['#', '#..#####'],
        ['#', '#..####.'],
        ['#', '#..###.#'],
        ['#', '#..###..'],
        ['#', '#..##.##'],
        ['#', '#..##.#.'],
        ['#', '#..##..#'],
        ['#', '#..##...'],
        ['#', '#..#.###'],
        ['#', '#..#.##.'],
        ['#', '#..#.#.#'],
        ['#', '#..#.#..'],
        ['#', '#..#..##'],
        ['#', '#..#..#.'],
        ['#', '#..#...#'],
        ['#', '#..#....'],
        ['#', '#...####'],
        ['#', '#...###.'],
        ['#', '#...##.#'],
        ['#', '#...##..'],
        ['#', '#...#.##'],
        ['#', '#...#.#.'],
        ['#', '#...#..#'],
        ['#', '#...#...'],
        ['#', '#....###'],
        ['#', '#....##.'],
        ['#', '#....#.#'],
        ['#', '#....#..'],
        ['#', '#.....##'],
        ['#', '#.....#.'],
        ['#', '#......#'],
        ['#', '#.......'],
        ['#', '.#######'],
        ['#', '.######.'],
        ['#', '.#####.#'],
        ['#', '.#####..'],
        ['#', '.####.##'],
        ['#', '.####.#.'],
        ['#', '.####..#'],
        ['#', '.####...'],
        ['#', '.###.###'],
        ['#', '.###.##.'],
        ['#', '.###.#.#'],
        ['#', '.###.#..'],
        ['#', '.###..##'],
        ['#', '.###..#.'],
        ['#', '.###...#'],
        ['#', '.###....'],
        ['#', '.##.####'],
        ['#', '.##.###.'],
        ['#', '.##.##.#'],
        ['#', '.##.##..'],
        ['#', '.##.#.##'],
        ['#', '.##.#.#.'],
        ['#', '.##.#..#'],
        ['#', '.##.#...'],
        ['#', '.##..###'],
        ['#', '.##..##.'],
        ['#', '.##..#.#'],
        ['#', '.##..#..'],
        ['#', '.##...##'],
        ['#', '.##...#.'],
        ['#', '.##....#'],
        ['#', '.##.....'],
        ['#', '.#.#####'],
        ['#', '.#.####.'],
        ['#', '.#.###.#'],
        ['#', '.#.###..'],
        ['#', '.#.##.##'],
        ['#', '.#.##.#.'],
        ['#', '.#.##..#'],
        ['#', '.#.##...'],
        ['#', '.#.#.###'],
        ['#', '.#.#.##.'],
        ['#', '.#.#.#.#'],
        ['#', '.#.#.#..'],
        ['#', '.#.#..##'],
        ['#', '.#.#..#.'],
        ['#', '.#.#...#'],
        ['#', '.#.#....'],
        ['#', '.#..####'],
        ['#', '.#..###.'],
        ['#', '.#..##.#'],
        ['#', '.#..##..'],
        ['#', '.#..#.##'],
        ['#', '.#..#.#.'],
        ['#', '.#..#..#'],
        ['#', '.#..#...'],
        ['#', '.#...###'],
        ['#', '.#...##.'],
        ['#', '.#...#.#'],
        ['#', '.#...#..'],
        ['#', '.#....##'],
        ['#', '.#....#.'],
        ['#', '.#.....#'],
        ['#', '.#......'],
        ['#', '..######'],
        ['#', '..#####.'],
        ['#', '..####.#'],
        ['#', '..####..'],
        ['#', '..###.##'],
        ['#', '..###.#.'],
        ['#', '..###..#'],
        ['#', '..###...'],
        ['#', '..##.###'],
        ['#', '..##.##.'],
        ['#', '..##.#.#'],
        ['#', '..##.#..'],
        ['#', '..##..##'],
        ['#', '..##..#.'],
        ['#', '..##...#'],
        ['#', '..##....'],
        ['#', '..#.####'],
        ['#', '..#.###.'],
        ['#', '..#.##.#'],
        ['#', '..#.##..'],
        ['#', '..#.#.##'],
        ['#', '..#.#.#.'],
        ['#', '..#.#..#'],
        ['#', '..#.#...'],
        ['#', '..#..###'],
        ['#', '..#..##.'],
        ['#', '..#..#.#'],
        ['#', '..#..#..'],
        ['#', '..#...##'],
        ['#', '..#...#.'],
        ['#', '..#....#'],
        ['#', '..#.....'],
        ['#', '...#####'],
        ['#', '...####.'],
        ['#', '...###.#'],
        ['#', '...###..'],
        ['#', '...##.##'],
        ['#', '...##.#.'],
        ['#', '...##..#'],
        ['#', '...##...'],
        ['#', '...#.###'],
        ['#', '...#.##.'],
        ['#', '...#.#.#'],
        ['#', '...#.#..'],
        ['#', '...#..##'],
        ['#', '...#..#.'],
        ['#', '...#...#'],
        ['#', '...#....'],
        ['#', '....####'],
        ['#', '....###.'],
        ['#', '....##.#'],
        ['#', '....##..'],
        ['#', '....#.##'],
        ['#', '....#.#.'],
        ['#', '....#..#'],
        ['#', '....#...'],
        ['#', '.....###'],
        ['#', '.....##.'],
        ['#', '.....#.#'],
        ['#', '.....#..'],
        ['#', '......##'],
        ['#', '......#.'],
        ['#', '.......#'],
        ['#', '........'],
        ['.', '########'],
        ['.', '#######.'],
        ['.', '######.#'],
        ['.', '######..'],
        ['.', '#####.##'],
        ['.', '#####.#.'],
        ['.', '#####..#'],
        ['.', '#####...'],
        ['.', '####.###'],
        ['.', '####.##.'],
        ['.', '####.#.#'],
        ['.', '####.#..'],
        ['.', '####..##'],
        ['.', '####..#.'],
        ['.', '####...#'],
        ['.', '####....'],
        ['.', '###.####'],
        ['.', '###.###.'],
        ['.', '###.##.#'],
        ['.', '###.##..'],
        ['.', '###.#.##'],
        ['.', '###.#.#.'],
        ['.', '###.#..#'],
        ['.', '###.#...'],
        ['.', '###..###'],
        ['.', '###..##.'],
        ['.', '###..#.#'],
        ['.', '###..#..'],
        ['.', '###...##'],
        ['.', '###...#.'],
        ['.', '###....#'],
        ['.', '###.....'],
        ['.', '##.#####'],
        ['.', '##.####.'],
        ['.', '##.###.#'],
        ['.', '##.###..'],
        ['.', '##.##.##'],
        ['.', '##.##.#.'],
        ['.', '##.##..#'],
        ['.', '##.##...'],
        ['.', '##.#.###'],
        ['.', '##.#.##.'],
        ['.', '##.#.#.#'],
        ['.', '##.#.#..'],
        ['.', '##.#..##'],
        ['.', '##.#..#.'],
        ['.', '##.#...#'],
        ['.', '##.#....'],
        ['.', '##..####'],
        ['.', '##..###.'],
        ['.', '##..##.#'],
        ['.', '##..##..'],
        ['.', '##..#.##'],
        ['.', '##..#.#.'],
        ['.', '##..#..#'],
        ['.', '##..#...'],
        ['.', '##...###'],
        ['.', '##...##.'],
        ['.', '##...#.#'],
        ['.', '##...#..'],
        ['.', '##....##'],
        ['.', '##....#.'],
        ['.', '##.....#'],
        ['.', '##......'],
        ['.', '#.######'],
        ['.', '#.#####.'],
        ['.', '#.####.#'],
        ['.', '#.####..'],
        ['.', '#.###.##'],
        ['.', '#.###.#.'],
        ['.', '#.###..#'],
        ['.', '#.###...'],
        ['.', '#.##.###'],
        ['.', '#.##.##.'],
        ['.', '#.##.#.#'],
        ['.', '#.##.#..'],
        ['.', '#.##..##'],
        ['.', '#.##..#.'],
        ['.', '#.##...#'],
        ['.', '#.##....'],
        ['.', '#.#.####'],
        ['.', '#.#.###.'],
        ['.', '#.#.##.#'],
        ['.', '#.#.##..'],
        ['.', '#.#.#.##'],
        ['.', '#.#.#.#.'],
        ['.', '#.#.#..#'],
        ['.', '#.#.#...'],
        ['.', '#.#..###'],
        ['.', '#.#..##.'],
        ['.', '#.#..#.#'],
        ['.', '#.#..#..'],
        ['.', '#.#...##'],
        ['.', '#.#...#.'],
        ['.', '#.#....#'],
        ['.', '#.#.....'],
        ['.', '#..#####'],
        ['.', '#..####.'],
        ['.', '#..###.#'],
        ['.', '#..###..'],
        ['.', '#..##.##'],
        ['.', '#..##.#.'],
        ['.', '#..##..#'],
        ['.', '#..##...'],
        ['.', '#..#.###'],
        ['.', '#..#.##.'],
        ['.', '#..#.#.#'],
        ['.', '#..#.#..'],
        ['.', '#..#..##'],
        ['.', '#..#..#.'],
        ['.', '#..#...#'],
        ['.', '#..#....'],
        ['.', '#...####'],
        ['.', '#...###.'],
        ['.', '#...##.#'],
        ['.', '#...##..'],
        ['.', '#...#.##'],
        ['.', '#...#.#.'],
        ['.', '#...#..#'],
        ['.', '#...#...'],
        ['.', '#....###'],
        ['.', '#....##.'],
        ['.', '#....#.#'],
        ['.', '#....#..'],
        ['.', '#.....##'],
        ['.', '#.....#.'],
        ['.', '#......#'],
        ['.', '#.......'],
        ['.', '.#######'],
        ['.', '.######.'],
        ['.', '.#####.#'],
        ['.', '.#####..'],
        ['.', '.####.##'],
        ['.', '.####.#.'],
        ['.', '.####..#'],
        ['.', '.####...'],
        ['.', '.###.###'],
        ['.', '.###.##.'],
        ['.', '.###.#.#'],
        ['.', '.###.#..'],
        ['.', '.###..##'],
        ['.', '.###..#.'],
        ['.', '.###...#'],
        ['.', '.###....'],
        ['.', '.##.####'],
        ['.', '.##.###.'],
        ['.', '.##.##.#'],
        ['.', '.##.##..'],
        ['.', '.##.#.##'],
        ['.', '.##.#.#.'],
        ['.', '.##.#..#'],
        ['.', '.##.#...'],
        ['.', '.##..###'],
        ['.', '.##..##.'],
        ['.', '.##..#.#'],
        ['.', '.##..#..'],
        ['.', '.##...##'],
        ['.', '.##...#.'],
        ['.', '.##....#'],
        ['.', '.##.....'],
        ['.', '.#.#####'],
        ['.', '.#.####.'],
        ['.', '.#.###.#'],
        ['.', '.#.###..'],
        ['.', '.#.##.##'],
        ['.', '.#.##.#.'],
        ['.', '.#.##..#'],
        ['.', '.#.##...'],
        ['.', '.#.#.###'],
        ['.', '.#.#.##.'],
        ['.', '.#.#.#.#'],
        ['.', '.#.#.#..'],
        ['.', '.#.#..##'],
        ['.', '.#.#..#.'],
        ['.', '.#.#...#'],
        ['.', '.#.#....'],
        ['.', '.#..####'],
        ['.', '.#..###.'],
        ['.', '.#..##.#'],
        ['.', '.#..##..'],
        ['.', '.#..#.##'],
        ['.', '.#..#.#.'],
        ['.', '.#..#..#'],
        ['.', '.#..#...'],
        ['.', '.#...###'],
        ['.', '.#...##.'],
        ['.', '.#...#.#'],
        ['.', '.#...#..'],
        ['.', '.#....##'],
        ['.', '.#....#.'],
        ['.', '.#.....#'],
        ['.', '.#......'],
        ['.', '..######'],
        ['.', '..#####.'],
        ['.', '..####.#'],
        ['.', '..####..'],
        ['.', '..###.##'],
        ['.', '..###.#.'],
        ['.', '..###..#'],
        ['.', '..###...'],
        ['.', '..##.###'],
        ['.', '..##.##.'],
        ['.', '..##.#.#'],
        ['.', '..##.#..'],
        ['.', '..##..##'],
        ['.', '..##..#.'],
        ['.', '..##...#'],
        ['.', '..##....'],
        ['.', '..#.####'],
        ['.', '..#.###.'],
        ['.', '..#.##.#'],
        ['.', '..#.##..'],
        ['.', '..#.#.##'],
        ['.', '..#.#.#.'],
        ['.', '..#.#..#'],
        ['.', '..#.#...'],
        ['.', '..#..###'],
        ['.', '..#..##.'],
        ['.', '..#..#.#'],
        ['.', '..#..#..'],
        ['.', '..#...##'],
        ['.', '..#...#.'],
        ['.', '..#....#'],
        ['.', '..#.....'],
        ['.', '...#####'],
        ['.', '...####.'],
        ['.', '...###.#'],
        ['.', '...###..'],
        ['.', '...##.##'],
        ['.', '...##.#.'],
        ['.', '...##..#'],
        ['.', '...##...'],
        ['.', '...#.###'],
        ['.', '...#.##.'],
        ['.', '...#.#.#'],
        ['.', '...#.#..'],
        ['.', '...#..##'],
        ['.', '...#..#.'],
        ['.', '...#...#'],
        ['.', '...#....'],
        ['.', '....####'],
        ['.', '....###.'],
        ['.', '....##.#'],
        ['.', '....##..'],
        ['.', '....#.##'],
        ['.', '....#.#.'],
        ['.', '....#..#'],
        ['.', '....#...'],
        ['.', '.....###'],
        ['.', '.....##.'],
        ['.', '.....#.#'],
        ['.', '.....#..'],
        ['.', '......##'],
        ['.', '......#.'],
        ['.', '.......#'],
        ['.', '........']
      ],
      Day12.find_combinations('?###????????')
    )
  end

  # 6_991 too low
  def test_part1
    omit
    Day12::SAMPLE ? assert_equal(21, Day12.part1) : assert_equal(nil, Day12.part1)
  end

  def test_part2
    omit
    Day12::SAMPLE ? assert_equal(nil, Day12.part2) : assert_equal(nil, Day12.part2)
  end
end
